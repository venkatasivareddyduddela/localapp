<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1"> <!-- ✅ Important for mobile -->
<title>Siva Shirts Collection</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0f0f0;
    text-align: center;
    margin: 0;
  }
  h1 { margin: 20px 0; }

  .gallery {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* Desktop: 4 per row */
    gap: 20px;
    max-width: 1200px;
    margin: auto;
    padding: 0 10px;
  }

  /* ✅ Tablet & mobile: 2 per row */
  @media (max-width: 768px) {
    .gallery {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  /* ✅ Extra small screens: 1 per row */
  @media (max-width: 480px) {
    .gallery {
      grid-template-columns: 1fr;
    }
  }

  .card {
    background: white;
    padding: 10px;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  }
  .card img {
    width: 100%;
    height: auto;              /* ✅ Responsive image */
    max-height: 250px;         /* Cap height on large screens */
    object-fit: contain;
    background: #fafafa;
    border-radius: 6px;
  }
  .info {
    margin-top: 8px;
    font-weight: bold;
    font-size: 14px;
    text-align: left;
  }
  .order-btn {
    margin-top: 10px;
    width: 100%;
    padding: 10px;
    border: none;
    border-radius: 6px;
    background: #28a745;
    color: white;
    cursor: pointer;
    font-size: 14px;
  }
</style>
</head>
<body>

<h1>Siva Shirts Collection</h1>

<div class="gallery" id="gallery"></div>

<script>
async function loadShirts() {
  const res = await fetch('fetch_sshirts.php'); // ✅ PHP endpoint
  const shirts = await res.json();
  displayShirts(shirts);
}

function displayShirts(shirts) {
  const gallery = document.getElementById("gallery");
  gallery.innerHTML = "";
  if (shirts.length === 0) {
    gallery.innerHTML = "<p>No shirts available.</p>";
    return;
  }
  shirts.forEach(shirt => {
    const card = document.createElement("div");
    card.className = "card";

    const img = document.createElement("img");
    img.src = shirt.image;
    img.alt = "Shirt Image";

    const info = document.createElement("div");
    info.className = "info";
    info.innerHTML = `
      <div>ID: ${shirt.id}</div>
      <div>Size: ${shirt.size}</div>
      <div>Cost: ₹${shirt.price}</div>
      <div>About: ${shirt.about}</div>
    `;

    const btn = document.createElement("button");
    btn.className = "order-btn";
    btn.textContent = "Order Now";
    btn.onclick = () => {
      // ✅ Your shop WhatsApp number in international format (no +, no spaces)
      const phoneNumber = "919876543210";  

      // ✅ Build message with details
      const message = `Hello, I want to order this shirt:\n
ID: ${shirt.id}\n
Size: ${shirt.size}\n
Cost: ₹${shirt.price}\n
About: ${shirt.about}\n
${shirt.image}`; // hosted image URL

      // ✅ Encode and open WhatsApp
      const url = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(message)}`;
      window.open(url, "_blank");
    };

    card.append(img, info, btn);
    gallery.appendChild(card);
  });
}

// Initial load
loadShirts();
</script>

</body>
</html>
